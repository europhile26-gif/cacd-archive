<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CACD Archive - Daily Cause Lists</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/css/styles.css?ver=1.1.0" />
  </head>
  <body>
    <header class="bg-primary text-white py-4 mb-4">
      <div class="container-fluid">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h1 class="h2 mb-1">Court of Appeal (Criminal Division) Archive</h1>
            <p class="mb-0 text-white-50">Daily Cause List Archive</p>
          </div>
          <img
            src="/favicon.svg"
            alt="Scales of Justice"
            class="d-none d-md-block"
            style="width: 64px; height: 64px; opacity: 0.9"
          />
        </div>
      </div>
    </header>

    <main class="container-fluid mb-5">
      <!-- Filter and Sort Toolbar -->
      <nav class="navbar navbar-expand-lg navbar-light bg-light rounded mb-4 py-3">
        <div class="container-fluid">
          <div class="w-100">
            <!-- Search row -->
            <div class="row g-3 mb-3">
              <div class="col-12">
                <div class="input-group">
                  <input
                    type="search"
                    id="searchInput"
                    class="form-control"
                    placeholder="Search cases..."
                  />
                  <button id="searchBtn" class="btn btn-primary">Search</button>
                  <button id="clearBtn" class="btn btn-outline-secondary">Clear All</button>
                </div>
              </div>
            </div>

            <!-- Date filters row -->
            <div class="row g-2 mb-3 align-items-center">
              <div class="col-12 col-md-auto">
                <label class="form-label mb-0 fw-semibold text-muted small">Filter by Date:</label>
              </div>
              <div class="col-auto">
                <div class="btn-group" role="group" aria-label="Quick date filters">
                  <button class="btn btn-outline-primary quick-date" data-offset="-1">
                    Yesterday
                  </button>
                  <button class="btn btn-outline-primary quick-date" data-offset="0">Today</button>
                  <button class="btn btn-outline-primary quick-date" data-offset="1">
                    Tomorrow
                  </button>
                </div>
              </div>
              <div class="col-12 col-md-auto">
                <input
                  type="date"
                  id="dateFilter"
                  class="form-control"
                  placeholder="Specific date..."
                />
              </div>
              <div class="col-auto">
                <button
                  id="clearDateBtn"
                  class="btn btn-outline-secondary"
                  title="Clear date filter"
                >
                  <span aria-hidden="true">&times;</span> Clear Date
                </button>
              </div>
            </div>

            <!-- Sort controls row -->
            <div class="row g-2 align-items-center">
              <div class="col-12 col-md-auto">
                <label class="form-label mb-0 fw-semibold text-muted small">Sort:</label>
              </div>
              <div class="col-auto">
                <select id="sortBy" class="form-select">
                  <option value="hearing_datetime">Date/Time</option>
                  <option value="case_number">Case Number</option>
                  <option value="created_at">Added to Archive</option>
                </select>
              </div>
              <div class="col-auto">
                <select id="sortOrder" class="form-select">
                  <option value="desc">Newest First</option>
                  <option value="asc">Oldest First</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </nav>

      <section class="results">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <div class="text-muted">
            <span id="resultCount" class="fw-bold">Loading...</span>
            <span
              id="inlineSpinner"
              class="spinner-border ms-2"
              style="
                width: 1.2em;
                height: 1.2em;
                border-width: 0.15em;
                vertical-align: middle;
                display: none;
              "
              role="status"
            >
              <span class="visually-hidden">Loading...</span>
            </span>
          </div>
        </div>

        <div id="errorMessage" class="alert alert-danger" style="display: none"></div>

        <!-- Desktop table view -->
        <div class="table-responsive d-none d-md-block">
          <table id="hearingsTable" class="table table-hover">
            <thead class="table-light">
              <tr>
                <th>Date/Time</th>
                <th>Venue</th>
                <th>Case Number</th>
                <th>Case Details</th>
                <th>Hearing Type</th>
                <th>Judge</th>
              </tr>
            </thead>
            <tbody id="hearingsBody">
              <!-- Populated by JavaScript -->
            </tbody>
          </table>
        </div>

        <!-- Mobile card view -->
        <div id="hearingsCards" class="d-block d-md-none">
          <!-- Populated by JavaScript -->
        </div>

        <nav aria-label="Pagination" class="mt-4">
          <ul class="pagination justify-content-center">
            <li class="page-item" id="prevPageItem">
              <button id="prevPage" class="page-link">Previous</button>
            </li>
            <li class="page-item disabled">
              <span id="pageInfo" class="page-link">Page 1</span>
            </li>
            <li class="page-item" id="nextPageItem">
              <button id="nextPage" class="page-link">Next</button>
            </li>
          </ul>
        </nav>
      </section>
    </main>

    <footer class="bg-light py-4 mt-5">
      <div class="container text-center text-muted">
        <p class="mb-1">
          CACD Archive - Court of Appeal Criminal Division Daily Cause List Archive
        </p>
        <p class="mb-2">
          <a href="/api/docs" class="text-decoration-none">API Documentation</a>
        </p>
        <p class="mb-0">
          <a
            href="https://github.com/europhile26-gif/cacd-archive"
            target="_blank"
            rel="noopener noreferrer"
            class="text-decoration-none text-muted"
            title="View on GitHub"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              fill="currentColor"
              class="bi bi-github"
              viewBox="0 0 16 16"
              style="vertical-align: text-bottom; margin-right: 4px"
            >
              <path
                d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"
              />
            </svg>
            GitHub
          </a>
        </p>
      </div>
    </footer>

    <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/js/app.js?ver=1.1.0"></script>
  </body>
</html>
